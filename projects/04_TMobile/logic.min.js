(function(){var t,e,a,o,n=(t=["src/bg.png","src/spr_btn.png","src/txt_logo1.png","src/txt_copy1.png","src/txt_footer.png","src/btn_switchnow.png","src/pop_instruction.png","src/pop_result.png","src/txt_copy2.png","src/spr_cards.png","src/bg2.jpg","src/txt_copy3.png"],e=["https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"],a=0,o=t.length+e.length,{loadedAssets:a,totalAssets:o,creativeImages:t,creativeScripts:e}),c=function(){function t(){e(n.creativeImages),a(n.creativeScripts)}function e(t){for(var e=0;e<t.length;e++){var a=t[e];$("<img />").attr("src",a).on("load",o)}}function a(t){for(var e=0;e<t.length;e++){var a=t[e];$.getScript(a,o)}}function o(){n.loadedAssets+=1,n.loadedAssets==n.totalAssets&&r.init()}return{init:t}}(),s={},r=function(){function t(){s.flipout=$(".flipout"),s.txt_copy1=$("#txt_copy1"),s.zero=0,s.btn_startplaying=$("#btn_startplaying"),s.btn_switchtoday=$("#btn_switchtoday"),s.btn_playagain=$("#btn_playagain"),s.btn_switchnow=$("#btn_switchnow"),s.spr_cards=$(".spr_cards"),s.INTRO=$("#INTRO"),s.INSTRUCTION=$("#INSTRUCTION"),s.GAMEBOARD=$("#GAMEBOARD"),s.RESULT=$("#RESULT"),s.ENDFRAME=$("#ENDFRAME"),s.FOOTER=$("#FOOTER"),s.countdown_3sec=document.getElementById("countdown_3sec"),s.countdown_30sec=document.getElementById("countdown_30sec"),s.matches=document.getElementById("matches"),s.txt_result=document.getElementById("txt_result"),s.txt_result2=document.getElementById("txt_result2"),s.txt_result3=document.getElementById("txt_result3"),s.count=0,s.score=0,s.set=6,s.initElapse=null,s.checkResult=null,s.card=0,s.selectedcard=[],s.currentcard=[],s.cardsY=["-150px","-300px","-450px","-600px","-750px","-900px","-1050px"],s.cards=[],s.ready=!0,s.autoplay=null,s.isautoplay=!0,s.autoflip=[0,1,2,3,4,5,6,7,8,9,10,11],s.flip=0,s.ap_card=null,i.fn_STEP1()}return{init:t}}(),i=function(){function t(){s.btn_startplaying.on("click",l),s.btn_switchtoday.on("click",l),s.btn_switchnow.on("click",l),s.spr_cards.on("click",d),s.spr_cards.mouseover("over",b),s.spr_cards.mouseout("over",T),s.btn_startplaying.mouseover("over",function(){gsap.fromTo(s.btn_startplaying,.1,{scale:1},{scale:1.05})}),s.btn_startplaying.mouseout("out",function(){gsap.fromTo(s.btn_startplaying,.1,{scale:1.05},{scale:1})}),gsap.from(s.flipout,.5,{top:960}),gsap.from(s.txt_copy1,.5,{delay:.2,top:960}),gsap.from(s.btn_startplaying,.5,{delay:.4,top:960}),gsap.fromTo(s.btn_startplaying,.2,{delay:1,scale:1},{delay:1,scale:1.2}),gsap.to(s.btn_startplaying,.2,{delay:1.1,scale:1,onComplete:function(){s.btn_playagain.on("click",l)}})}function e(){_(),s.ENDFRAME.hide(),s.count=30,s.score=0,s.set=6,s.card=0,s.selectedcard=[],s.currentcard=[],s.ready=!0,s.countdown_30sec.innerHTML=s.count,s.matches.innerHTML=s.score,gsap.set(s.spr_cards,{"background-position-y":0}),gsap.delayedCall(1,h),s.initElapse=setTimeout(o,5e3),gsap.set(".img_audio",{"background-position-x":"right"})}function a(){s.isautoplay=!1,clearTimeout(s.autoplay),gsap.fromTo(s.ENDFRAME,.2,{display:"block",autoAlpha:0},{autoAlpha:1,onComplete:function(){gsap.set(s.spr_cards,{rotationY:0}),s.RESULT.hide()}}),gsap.set(".img_audio",{"background-position-x":"left"})}function o(t){s.ap_card="card_"+s.autoflip[s.flip],gsap.set($("#"+s.ap_card),{"pointer-events":"none"}),gsap.to($("#"+s.ap_card),.2,{z:.01,force3D:!1,perspective:1e3,rotationY:90,ease:"none",onComplete:n})}function n(t){var e=null;switch(s.ap_card){case"card_0":e=s.cards[0];break;case"card_1":e=s.cards[1];break;case"card_2":e=s.cards[2];break;case"card_3":e=s.cards[3];break;case"card_4":e=s.cards[4];break;case"card_5":e=s.cards[5];break;case"card_6":e=s.cards[6];break;case"card_7":e=s.cards[7];break;case"card_8":e=s.cards[8];break;case"card_9":e=s.cards[9];break;case"card_10":e=s.cards[10];break;case"card_11":e=s.cards[11]}gsap.set($("#"+s.ap_card),{"background-position-y":e}),gsap.to($("#"+s.ap_card),.2,{z:.01,force3D:!1,perspective:1e3,rotationY:0,ease:"none",onComplete:function(){setTimeout(c,500)}})}function c(t){function e(){gsap.set($("#"+s.ap_card),{"pointer-events":"auto","background-position-y":0}),gsap.to($("#"+s.ap_card),.2,{z:.01,force3D:!1,perspective:1e3,rotationY:0,ease:"none",onComplete:function(){s.isautoplay&&(s.flip>=11?s.flip=0:s.flip++,s.flip<2&&(s.autoplay=setTimeout(o,1e3)))}})}gsap.to($("#"+s.ap_card),.2,{z:.01,force3D:!1,perspective:1e3,rotationY:90,ease:"none",onComplete:e})}function r(){gsap.killTweensOf("*"),gsap.set(s.spr_cards,{"pointer-events":"none",scale:.91}),s.matches.innerHTML<=3?(s.txt_result.innerHTML=" ",s.txt_result2.innerHTML="Nice try! Give it another shot and ",s.txt_result3.innerHTML="see if you can do better!"):s.matches.innerHTML>=7?(s.txt_result.innerHTML=" ",s.txt_result2.innerHTML="Unreal! Your matching skills",s.txt_result3.innerHTML="are rock star level!"):(s.txt_result.innerHTML=" ",s.txt_result2.innerHTML="Well done! Youâ€™re on your way",s.txt_result3.innerHTML="to becoming a match-master!"),gsap.fromTo(s.RESULT,.2,{autoAlpha:0,display:"block"},{autoAlpha:1}),gsap.delayedCall(5,a),p.PLAY(p.SND_OVER)}function l(){switch(this.id){case"btn_startplaying":s.isautoplay=!0,clearTimeout(s.autoplay),s.btn_startplaying.off("click"),s.count=3,s.countdown_3sec.innerHTML=s.count,gsap.to("#btn_startplaying",.5,{autoAlpha:0}),gsap.fromTo([s.INSTRUCTION,s.GAMEBOARD,s.FOOTER],.5,{display:"block",autoAlpha:0,y:0},{autoAlpha:1,onComplete:function(){s.INTRO.hide(),gsap.delayedCall(1,i.cd_3sec),p.PLAY(p.SND_CD)}}),p.PLAY(p.SND_BGM);break;case"btn_switchtoday":s.isautoplay=!1,window.open("https://www.t-mobile.com/","_blank");break;case"btn_playagain":gsap.set(s.spr_cards,{"pointer-events":"auto"}),e();break;case"btn_switchnow":s.isautoplay=!1,clearTimeout(s.autoplay),window.open("https://www.t-mobile.com/","_blank")}}function d(t){s.ready&&(s.isautoplay=!1,clearTimeout(s.autoplay),clearTimeout(s.initElapse),s.ready=!1,s.currentcard[s.card]=t.currentTarget,gsap.set(t.currentTarget,{"pointer-events":"none"}),gsap.to(t.currentTarget,.2,{z:.01,force3D:!1,perspective:1e3,rotationY:90,ease:"none",onComplete:u}),p.PLAY(p.SND_FLIP))}function u(t){var e=null,a=s.currentcard[s.card];switch(a.id){case"card_0":e=s.cards[0];break;case"card_1":e=s.cards[1];break;case"card_2":e=s.cards[2];break;case"card_3":e=s.cards[3];break;case"card_4":e=s.cards[4];break;case"card_5":e=s.cards[5];break;case"card_6":e=s.cards[6];break;case"card_7":e=s.cards[7];break;case"card_8":e=s.cards[8];break;case"card_9":e=s.cards[9];break;case"card_10":e=s.cards[10];break;case"card_11":e=s.cards[11]}s.selectedcard.push(e),gsap.set(a,{"background-position-y":e}),gsap.to(a,.2,{z:.01,force3D:!1,perspective:1e3,rotationY:0,ease:"none",onComplete:g})}function _(){v(s.cardsY),s.cards=[];for(var t=0;t<6;t++)s.cards.push(s.cardsY[t]),s.cards.push(s.cardsY[t]);v(s.cards)}function g(){s.card==s.zero?(s.card=1,s.ready=!0):s.selectedcard[0]==s.selectedcard[1]?(s.score++,s.matches.innerHTML=s.score,gsap.set([s.currentcard[0],s.currentcard[1]],{"pointer-events":"none"}),p.PLAY(p.SND_MATCH),m()):gsap.delayedCall(.7,f)}function f(){function t(){gsap.set([e,a],{"pointer-events":"auto",scale:.91,"background-position-y":0}),gsap.to([e,a],.2,{z:.01,force3D:!1,perspective:1e3,rotationY:0,ease:"none"})}var e=s.currentcard[0],a=s.currentcard[1];m(),gsap.to([e,a],.2,{z:.01,force3D:!1,perspective:1e3,rotationY:90,ease:"none",onComplete:t})}function m(){s.score==s.set?(y(),s.set+=6):(s.card=0,s.selectedcard=[],s.currentcard=[],s.ready=!0)}function y(){function t(){gsap.set(s.spr_cards,{"background-position-y":0}),gsap.to(s.spr_cards,.2,{rotationY:0,ease:"none",onComplete:function(){gsap.set(s.spr_cards,{"pointer-events":"auto"}),s.card=0,s.selectedcard=[],s.currentcard=[],s.ready=!0}})}_(),gsap.to(s.spr_cards,.2,{rotationY:90,ease:"none",onComplete:t}),p.PLAY(p.SND_RESET)}function b(t){gsap.set(this,{z:.01,force3D:!1,perspective:1e3,scale:.96})}function T(t){gsap.set(this,{z:.01,force3D:!1,perspective:1e3,scale:.91})}function E(){function t(){gsap.fromTo(s.INSTRUCTION,.2,{autoAlpha:1},{autoAlpha:0,onComplete:e})}s.count<=1?(gsap.set(s.countdown_3sec,{left:"564px",top:"176px","font-size":"710%"}),s.countdown_3sec.innerHTML="GO!",gsap.delayedCall(1,t)):(s.count--,s.countdown_3sec.innerHTML=s.count,gsap.delayedCall(1,E))}function h(){s.count<=s.zero?(r(),s.isautoplay=!1,clearTimeout(s.autoplay)):s.count<=18&&s.isautoplay?r():(s.count--,s.count<=9?s.countdown_30sec.innerHTML="0"+s.count:s.countdown_30sec.innerHTML=s.count,gsap.delayedCall(1,h))}function v(t){for(var e,a,o=t.length;0!==o;)a=Math.floor(Math.random()*o),o-=1,e=t[o],t[o]=t[a],t[a]=e;return t}return{fn_STEP1:t,cd_3sec:E}}(),p={ASSETS:[["SND_BGM",{src:["src/audio/bgm.mp3"],loop:!0,volume:1}],["SND_CD",{src:["src/audio/sfx_countdown.mp3"],loop:!1,volume:1}],["SND_MATCH",{src:["src/audio/sfx_match.mp3"],loop:!1,volume:1}],["SND_FLIP",{src:["src/audio/sfx_flip.mp3"],loop:!1,volume:1}],["SND_RESET",{src:["src/audio/sfx_reset.mp3"],loop:!1,volume:1}],["SND_OVER",{src:["src/audio/sfx_gameover.mp3"],loop:!1,volume:1}]],ACTIVE_BUTTON:!0,INIT:function(t){if(img_audio=".img_audio",btn_audio="#btn_audio",$.getScript("https://cdnjs.cloudflare.com/ajax/libs/howler/2.2.3/howler.min.js",p.READY),p.ACTIVE_BUTTON){var e="<div id='btn_audio' class='button'><div class='img_audio center'></div></div>";$("#container").append(e),$(img_audio).css({width:"30px",height:"30px",background:"url(src/spr_audio.png) no-repeat",transform:"scale(0.92) translateZ(0) scaleZ(2)"}),$(btn_audio).css({display:"none",right:"1px",top:"1px",width:"45px",height:"45px"})}$(btn_audio).on("click",p.MOUSECLICK),s.is_mobile||$(btn_audio).hover(p.MOUSEOVER,p.MOUSEOUT)},READY:function(t){for(let t=0;t<p.ASSETS.length;t++)p.ASSETS[t][1].preload=!0,p[p.ASSETS[t][0]]=new Howl(p.ASSETS[t][1]);p.SND_BGM.once("play",()=>$(btn_audio).show()),c.init()},MOUSECLICK:function(t){p.ACTIVE?(p.ACTIVE=!1,p.VOLUME_OFF()):(p.ACTIVE=!0,p.VOLUME_ON())},MOUSEOVER:function(t){$(img_audio).css("transform","scale(1) translateZ(0) scaleZ(2)")},MOUSEOUT:function(t){$(img_audio).css("transform","scale(0.92) translateZ(0) scaleZ(2)")},PLAY:function(t){t.playing()?p.SEEK(t,0):t.play()},PAUSE:function(t){t.pause()},STOP:function(t){t.stop()},MUTE:function(t){t.volume(0)},UNMUTE:function(t){t.volume(1)},SEEK:function(t,e){t.seek(e)},VOLUME_ON:function(){Howler.volume(1),$(".img_audio").css("background-position-y","0px")},VOLUME_OFF:function(){Howler.volume(0),$(".img_audio").css("background-position-y","-40px")},END:function(t){Howler.unload()},ACTIVE:!0};p.INIT()})();