(function(){var t={INIT_IMAGES:[["#background","src/background.jpg"],["#logo","src/logo.png"],[".txt_button","src/txt_button.png"],[".ico_soundtrack","src/ico_soundtrack.png"],["#txt_intro","src/txt_intro.png"],[".txt_soundtrack","src/txt_soundtrack.png"],["#bg_end","src/bg_end.jpg"],["#txt_instruction","src/txt_instruction.png"]],INIT_JS:["https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.5/gsap.min.js","https://cdnjs.cloudflare.com/ajax/libs/howler/2.2.3/howler.min.js"]},n=!("ontouchstart"in document.documentElement),e={MOUSECLICK:function(t){if(c.isButtonReady)switch(s.CLICK_DELAY(.2),this.id){case"btn_continue":case"btn_tryagain":o.STEP_2();break;case"btn_streamaudio":window.open("https://music.amazon.com/","_blank");break;case"btn_ico_0":o.TOGGLE_SOUNDTRACK(0);break;case"btn_ico_1":o.TOGGLE_SOUNDTRACK(1);break;case"btn_ico_2":o.TOGGLE_SOUNDTRACK(2);break;case"btn_ico_3":o.TOGGLE_SOUNDTRACK(3)}},MOUSEOVER:function(t){switch(this.id){case"btn_continue":$("#"+this.id+" .bg_cta").css({backgroundColor:"black"}),$("#"+this.id+" .txt_button").css({backgroundPositionY:"-32px"});break;case"btn_tryagain":case"btn_streamaudio":$("#"+this.id+" .bg_cta").css({border:"1px solid white","box-sizing":"border-box",backgroundColor:"black"}),$("#"+this.id+" .txt_button").css({backgroundPositionY:"-32px"});break;case"btn_ico_0":case"btn_ico_1":case"btn_ico_2":case"btn_ico_3":gsap.to(this,.1,{z:.001,scale:.55,ease:"none"})}},MOUSEOUT:function(t){switch(this.id){case"btn_continue":$("#"+this.id+" .bg_cta").css({backgroundColor:"white"}),$("#"+this.id+" .txt_button").css({backgroundPositionY:"0px"});break;case"btn_tryagain":case"btn_streamaudio":$("#"+this.id+" .bg_cta").css({border:"0px solid white","box-sizing":"border-box",backgroundColor:"white"}),$("#"+this.id+" .txt_button").css({backgroundPositionY:"0px"});break;case"btn_ico_0":case"btn_ico_1":case"btn_ico_2":case"btn_ico_3":gsap.to(this,.1,{z:0,scale:.5,ease:"none"})}}},o={INIT:function(){c.panel_intro="#panel_intro",c.panel_mixer="#panel_mixer",c.panel_end="#panel_end",c.btn_ico=".btn_ico",c.btn_ico_0="#btn_ico_0",c.btn_ico_1="#btn_ico_1",c.btn_ico_2="#btn_ico_2",c.btn_ico_3="#btn_ico_3",c.bg_end="#bg_end",c.ico_active=".ico_active",c.btn_startfreetrial="#btn_startfreetrial",c.txt_instruction="#txt_instruction",c.btn_tryagain="#btn_tryagain",c.btn_streamaudio="#btn_streamaudio",c.track_soundtrack=["Vocals","Bass","Drums","Guitar"],c.status_soundtrack=["Mute","Mute","Mute","Mute"],c.autotoggle=[!0,!0,!0,!0],c.was_clicked=!1,i.INIT(),a.INIT(),n||($(c.btn_ico).css({transform:"scale(0.50) translateZ(0)"}),$(c.ico_active).css({width:"142px",height:"142px"}),$(c.btn_ico_0).css({top:"77px"}),$(c.btn_ico_1).css({top:"160px"}),$(c.btn_ico_2).css({top:"243px"}),$(c.btn_ico_3).css({top:"326px"}),$(a.container).css({left:"40px"}),$(c.btn_tryagain).css({left:"30px"}),$(c.btn_streamaudio).css({left:"30px"}))},STEP_2:function(){s.CLICK_DELAY(.2),$(c.panel_intro).hide(),$(c.panel_end).hide(),$(c.panel_mixer).show(),$(c.txt_instruction).show(),c.autotoggle=[!0,!0,!0,!0],a.LOAD(0)},STEP_3:function(){s.CLICK_DELAY(.2),$(c.txt_instruction).hide(),gsap.to(c.ico_active,.1,{alpha:0}),$(c.panel_end).css({display:"block",opacity:1,"z-index":1}),$(c.btn_startfreetrial).css({"z-index":2})},VIDEO_SOUNDTRACK:function(){$(c.panel_mixer).css({pointerEvents:"none"}),gsap.to(c.ico_active,.1,{alpha:1});for(let t=0;t<4;t++)i.MUTE(t);i.UNMUTE(4)},TOGGLE_SOUNDTRACK:function(t){s.CLICK_DELAY(.2),c.autotoggle=[!1,!1,!1,!1],0===i.SOUNDS[t].volume()?o.UNMUTE_SOUNDTRACK(t):o.MUTE_SOUNDTRACK(t)},UNMUTE_SOUNDTRACK:function(t){i.UNMUTE(t),gsap.fromTo("#btn_ico_"+t+" .ico_active",.1,{alpha:0},{alpha:1}),c.status_soundtrack[t]="Unmute"},MUTE_SOUNDTRACK:function(t){i.MUTE(t),gsap.fromTo("#btn_ico_"+t+" .ico_active",.1,{alpha:1},{alpha:0}),c.status_soundtrack[t]="Mute"}},i={ASSETS:[{src:["src/audio/vocals.mp3"],preload:!0,loop:!1,volume:0},{src:["src/audio/bass.mp3"],preload:!0,loop:!1,volume:0},{src:["src/audio/drums.mp3"],preload:!0,loop:!1,volume:0},{src:["src/audio/guitar.mp3"],preload:!0,loop:!1,volume:0},{src:["src/audio/end.mp3"],preload:!0,loop:!1,volume:0}],ACTIVE_BUTTON:!1,INIT:function(t){if(c.img_audio=".img_audio",c.btn_audio="#btn_audio",i.ACTIVE_BUTTON){let t="<div id='btn_audio' class='button'><div class='img_audio center'></div></div>";$(c.container).append(t),$(c.img_audio).css({width:"30px",height:"30px"}),$(c.btn_audio).css({right:"8px",top:"8px",width:"45px",height:"45px"})}n&&($(c.btn_audio).on("click",i.MOUSECLICK),$(c.btn_audio).hover(i.MOUSEOVER,i.MOUSEOUT)),i.READY()},READY:function(t){for(let t=0;t<i.ASSETS.length;t++)i.SOUNDS.push(new Howl(i.ASSETS[t]))},MOUSECLICK:function(t){c.isButtonReady&&(i.ACTIVE?(i.ACTIVE=!1,i.VOLUME_OFF()):(i.ACTIVE=!0,i.VOLUME_ON()),i.PLAY(0))},MOUSEOVER:function(t){$(c.img_audio).css("transform","scale(1) translateZ(0) scaleZ(2)")},MOUSEOUT:function(t){$(c.img_audio).css("transform","scale(0.92) translateZ(0) scaleZ(2)")},PLAY:function(t){i.SOUNDS[t].playing()?i.SEEK(t,0):i.SOUNDS[t].play()},PAUSE:function(t){i.SOUNDS[t].pause()},STOP:function(t){i.SOUNDS[t].stop()},MUTE:function(t){i.SOUNDS[t].volume(0)},UNMUTE:function(t){i.SOUNDS[t].volume(1)},SEEK:function(t,n){i.SOUNDS[t].seek(n)},VOLUME_ON:function(){Howler.volume(1),$(".img_audio").css("background-position-y","0px")},VOLUME_OFF:function(){Howler.volume(0),$(".img_audio").css("background-position-y","-40px")},END:function(t){Howler.unload()},SOUNDS:[],ACTIVE:!0},a={ASSETS:[["#vid_play","src/ico_play.png"],["#vid_replay","src/ico_replay.png"]],CONFIG:[{source:"src/video/intro.mp4",trackname:"Video",preview:"src/preview.jpg",endscreen:"src/bg_end.jpg"}],STYLE:{left:90,top:48,width:680,height:382,center:!0},INIT:function(t){a.SETUP(),t>=0&&t<=a.CONFIG.length&&$("<img />").attr("src",a.CONFIG[t].preview).load(a.LOAD(t))},FORCE_MUTE:!0,ON_FOCUS:function(t){$(a.content)[0].currentTime=i.SOUNDS[4].seek()},LOAD:function(t){this.CURRENT=t,this.STATUS._100=!1,this.DESTROY(),$(this.container).css({backgroundImage:"url("+a.CONFIG[a.CURRENT].preview+")",display:"block"}),a.focus_interval=setInterval(a.INTERVAL,1e3),$(this.content).on("play",a.START),$(this.content).on("ended",a.END),$(this.content).on("timeupdate",a.PROGRESS),$(this.content)[0].src=a.CONFIG[a.CURRENT].source,$(this.content)[0].load(),$(a.content)[0].play()},START:function(t){$(a.btn_play).css({display:"none",backgroundImage:"url("+a.ASSETS[0][1]+")",backgroundColor:"transparent",backgroundPositionY:"center",backgroundSize:"auto"})},PROGRESS:function(t){if(!a.STATUS._0&&t.currentTarget.currentTime>=1e-4){a.STATUS._0=!0,$(a.player).css("opacity",1),$(a.container).css({backgroundImage:"none"});for(let n=0;n<i.SOUNDS.length;n++)i.SOUNDS[n].playing()||i.PLAY(n),i.MUTE(n),i.SEEK(n,t.currentTarget.currentTime);$(c.panel_mixer).css({pointerEvents:"auto"}),i.UNMUTE(4),document.addEventListener("visibilitychange",a.ON_FOCUS)}!a.STATUS._17sec&&t.currentTarget.currentTime>=17.1&&(a.STATUS._17sec=!0,o.VIDEO_SOUNDTRACK()),c.autotoggle[0]&&t.currentTarget.currentTime>=1e-5&&(c.autotoggle[0]=!1,o.UNMUTE_SOUNDTRACK(0)),c.autotoggle[1]&&t.currentTarget.currentTime>=3.5&&(c.autotoggle[1]=!1,o.UNMUTE_SOUNDTRACK(1)),c.autotoggle[2]&&t.currentTarget.currentTime>=6&&(c.autotoggle[2]=!1,o.UNMUTE_SOUNDTRACK(2)),c.autotoggle[3]&&t.currentTarget.currentTime>=9.5&&(c.autotoggle[3]=!1,setTimeout(()=>{i.UNMUTE(3)},50),gsap.fromTo("#btn_ico_3 .ico_active",.1,{alpha:0},{alpha:1}),c.status_soundtrack[3]="Unmute"),a.CURRENT_TIME=t.currentTarget.currentTime},CURRENT_TIME:0,END:function(t){a.STATUS._100=!0,a.CONFIG[a.CURRENT].trackname="Video Replay",$(a.container).css({backgroundImage:"url("+a.CONFIG[a.CURRENT].endscreen+")"}),$(a.btn_play).css({display:"none",backgroundImage:"url("+a.ASSETS[1][1]+")",backgroundColor:"rgba(0,0,0,0)",backgroundPositionY:"center",backgroundSize:"auto"}),a.DESTROY(),a.CONFIG[a.CURRENT].is_replay=!0,o.STEP_3()},DESTROY:function(t){clearInterval(a.focus_interval),$(a.player).css("opacity",0),$(a.content).off("play"),$(a.content).off("ended"),$(a.content).off("timeupdate"),a.STATUS._0=!1,a.STATUS._17sec=!1,document.removeEventListener("visibilitychange",a.ON_FOCUS)},PLAY:function(t){$(a.btn_play).hide(),a.STATUS._100?o.STEP_2():$(a.content)[0].play()},PAUSE:function(t){$(a.btn_play).show(),$(a.content)[0].pause()},MUTE:function(){$(a.content)[0].muted=!0,$(a.content)[0].volume=0},MINIMIZE:function(){gsap.set(a.container,{z:.001,x:15,y:-5,scale:.9})},MAXIMIZE:function(){gsap.to(a.container,.2,{z:.001,x:0,y:0,scale:1,ease:"none"})},SETUP:function(){a.container="#vid_container",a.player="#vid_player",a.content="#vid_content",a.btn_play="#vid_play",a.btn_vid=".btn_vid";let t="<div id='vid_container'></div>",n="<div id='vid_player'></div>",e="<video id='vid_content' preload='none' muted playsinline webkit-playsinline></video>",o="<div id='vid_play' class='btn_vid'></div>";$(c.container).append(t),$(a.container).append(n),$(a.container).append(o),$(a.player).append(e),$(a.container).css({display:"none",left:a.STYLE.left+"px",top:a.STYLE.top+"px",width:a.STYLE.width+"px",height:a.STYLE.height+"px",backgroundColor:"transparent",backgroundSize:"cover",backgroundRepeat:"no-repeat",overflow:"hidden"}),$(a.player).css({pointerEvents:"none",left:"0px",top:"0px",width:"100%",height:"100%",opacity:0}),$(a.content).css({width:"100%",height:"100%"}),$(a.btn_vid).css({display:"none",left:"0px",top:"0px",width:"100%",height:"100%",backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundColor:"rgba(0,0,0,0.4)"});for(let t=0;t<a.ASSETS.length;t++)$(a.ASSETS[t][0]).css("background-image","url("+a.ASSETS[t][1]+")");a.STYLE.center&&$(a.container).addClass("center"),$(a.btn_play).on("click",a.PLAY)},INTERVAL:function(){$(a.content)[0].paused?$(a.btn_play).show():$(a.btn_play).hide()},CURRENT:0,SOUND_DISABLED:!0,STATUS:{_0:!1,_17sec:!1,_100:!1}},c={stageScale:1,isButtonReady:!0,container:"#container",button:".button",zero:0},r={IMAGE:function(t){for(let n=0;n<t.length;n++){let e=t[n][1];$("<img />").attr("src",e).on("load",r.UPDATE_ASSETS)}},JS:function(t){for(let n=0;n<t.length;n++){let e=t[n];$.getScript(e,r.UPDATE_ASSETS)}},UPDATE_ASSETS:function(){r.LOADED_ASSETS+=1,r.LOADED_ASSETS==r.TOTAL_ASSETS&&r.COMPLETE()},COMPLETE:function(){for(let n=0;n<t.INIT_IMAGES.length;n++)$(t.INIT_IMAGES[n][0]).css("background-image","url("+t.INIT_IMAGES[n][1]+")");$(c.button).on("click",e.MOUSECLICK),n&&($(c.button).css("cursor","pointer"),$(c.button).hover(e.MOUSEOVER,e.MOUSEOUT)),s.INIT_CLICK(),s.AUTOSCALE(),o.INIT()},TOTAL_ASSETS:t.INIT_IMAGES.length+t.INIT_JS.length,LOADED_ASSETS:0},s={INIT_CLICK:function(t){function n(){if($(window).off("click"),c.was_clicked=!0,void 0!==a)try{a.STATUS._100||a.PLAY()}catch(t){}if(void 0!==i){let t=c.status_soundtrack.indexOf("Unmute");t>=0&&i.UNMUTE(t);for(let t=0;t<i.SOUNDS.length;t++)i.SEEK(t,a.CURRENT_TIME)}}$(window).on("click",n)},CLICK_DELAY:function(t){c.isButtonReady=!1,setTimeout(function(){c.isButtonReady=!0},1e3*t)},AUTOSCALE:function(){function t(){var t=$("#container").css("transform");if("none"!=t)try{var n=t.split("(")[1];n=n.split(")")[0],n=n.split(",");var e=n[0],o=n[1];c.stageScale=Math.sqrt(e*e+o*o)}catch(t){c.stageScale=1}else c.stageScale=1}$(window).resize(t),t()},IS_MOBILE:{Android:function(){return!!navigator.userAgent.match(/Android/i)},BlackBerry:function(){return!!navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return!!navigator.userAgent.match(/iPhone|iPad|iPod/i)},iPad:function(){return!!navigator.userAgent.match(/iPad/i)},Windows:function(){return!!navigator.userAgent.match(/IEMobile/i)},any:function(){return s.IS_MOBILE.Android()||s.IS_MOBILE.BlackBerry()||s.IS_MOBILE.iOS()||isMobile.Windows()}},IS_BROWSER:{Chrome:function(){return!!navigator.userAgent.match(/Chrome/i)},Firefox:function(){return!!navigator.userAgent.match(/Firefox/i)},Safari:function(){return!(!navigator.userAgent.match(/Safari/i)||s.IS_BROWSER.Chrome())},IE10:function(){return!!navigator.userAgent.match(/MSIE/i)},IE11:function(){return!!navigator.userAgent.match(/Trident/i)},Edge:function(){return!!navigator.userAgent.match(/Edge/i)},Explorer:function(){return s.IS_BROWSER.IE10()||s.IS_BROWSER.IE11()||s.IS_BROWSER.Edge()}}};r.IMAGE(t.INIT_IMAGES),r.JS(t.INIT_JS)})();